2004-04-11 21:54  sofar

	* var/lib/lunar/functions/: depends.lunar, modules.lunar: Fix for
	normal users seeing garbage when the call lunar's core tools with
	garbage. should clean up stuff a bit.

2004-04-08 13:53  prox

	* var/lib/lunar/functions/config.lunar: changed sed to cover
	substrings

2004-04-08 13:25  prox

	* var/lib/lunar/functions/config.lunar: fixed issue with list of
	initscript being return with quotes

2004-03-30 20:52  sofar

	* var/lib/lunar/functions/depends.lunar: Prevent RECONFIGURE from
	propagating.

2004-03-30 12:56  sofar

	* var/lib/lunar/menu/optimize.menu: Thanks Victor.

2004-03-29 22:24  sofar

	* var/lib/lunar/functions/depends.lunar: This is a bit more
	experimental patch: - ask for a confirmation before removing a
	conflicting module (break if no) - added opt_dep bypass in case
	there is no need to ask the user since he really has no choice
	anyway.

2004-03-29 21:14  sofar

	* var/lib/lunar/functions/postbuild.lunar: Make garbage *not*
	install doc/Makefile directories!!!

2004-03-29 20:58  sofar

	* etc/lunar/mirrors/GNOME: quotes, ugly. tab separation works now,
	much nicer

2004-03-29 15:18  sofar

	* sbin/lrm: Adding REAP back, somehow it had disappeared.

2004-03-26 19:40  sofar

	* var/lib/lunar/menu/mirrors.menu: Explicitly split by tabs and
	break up options, also reversing the order per element. (#462)

2004-03-24 12:33  sofar

	* etc/lunar/config, var/lib/lunar/functions/build.lunar,
	var/lib/lunar/functions/modules.lunar: * Adding preliminary _PREFIX
	work (works!) * Fixing mosrun caller to check for openmosix-tools
	instead of linux-openmosix.

2004-03-23 10:10  sofar

	* etc/lunar/mirrors/GNOME, var/lib/lunar/menu/mirrors.menu: Fixing
	mirror file and algorithm.... we don't need to make our lives so
	hard.

2004-03-23 09:49  sofar

	* var/lib/lunar/functions/config.lunar: Properly escaping ':' signs
	allows the mirrors to be set too :^o

2004-03-21 22:17  sofar

	* var/lib/lunar/functions/: config.lunar, modules.lunar: Adding all
	round checking for the [sg]et_config_ functions.

2004-03-21 20:51  sofar

	* sbin/lin, sbin/lunar, var/lib/lunar/functions/depends.lunar:
	Major bug(!) fixes: - remove write_config alltogether from lunar -
	rewrite core algorithm, now truly adheres to the proper order:
	depends, download (with smart download queue filler), install.
	Should fix the multi-lget spawns and fix the install order (tho
	that didn't really break, it was not just how I intended it to be).

2004-03-18 12:16  sofar

	* sbin/lrm, var/lib/lunar/functions/config.lunar,
	var/lib/lunar/functions/postbuild.lunar: Bugfix: theedge wasnt
	removing files from /etc/ at all, and added proper init.d script
	shutdowns on plain 'lrm' commands, as well as xinetd restarts.

2004-03-17 23:28  tchan

	* sbin/lunar: Committed a small bug fix for sofar while he was
	sleeping.

2004-03-17 22:58  sofar

	* etc/lunar/config, sbin/lunar,
	var/lib/lunar/functions/config.lunar,
	var/lib/lunar/functions/optimize.lunar,
	var/lib/lunar/functions/uniqid.lunar,
	var/lib/lunar/menu/dmodule.menu, var/lib/lunar/menu/download.menu,
	var/lib/lunar/menu/integrity.menu, var/lib/lunar/menu/mirrors.menu,
	var/lib/lunar/menu/optimize.menu: New config concept: atomic config
	operations: - get/set_module_config: get/sets a var for a module -
	get_set_local_config: get/sets a var in /etc/lunar/local/config -
	rewrote menu's and optimization code to fit (contained a bug sinces
	last week resulting in optimize menu's not working properly -
	fixed) - tested mildly, the concept is sound but I may have dropped
	a thread!!! (This commit is ON THE EDGE. You are warned) -
	implemented lunar set [VAR [VAL]] for easy access to system vars -
	forgot to recode all of moonbase to use these methods. things
	break. get over it, or help me fix it in the next weekend.  - gone
	to bed. sleeping while your boxes die.

2004-03-15 22:54  sofar

	* var/lib/lunar/functions/: main.lunar, modules.lunar,
	optimize.lunar, prune.lunar: Definitive fixes for missing PLATFORM
	and/or BUILDs in theedge. Closing #392 with this one.

2004-03-15 21:50  sofar

	* bin/lvu: meep meep

2004-03-15 21:41  sofar

	* var/lib/lunar/functions/logging.lunar: Adding stop time marker.
	Note this also includes the lrm stage in case that was needed.

2004-03-15 21:24  sofar

	* bin/lvu: Fix for broken lvu leert.

2004-03-14 21:43  sofar

	* bin/lvu, sbin/lrm, var/lib/lunar/excluded,
	var/lib/lunar/protected, var/lib/lunar/solo,
	var/lib/lunar/unset.sh, var/lib/lunar/functions/tracking.lunar:
	Major lrm/exluded/protected rewrite: - allow re's in
	excluded/protected - true protected directories with recursion -
	excluded ONLY contains stuff that we DO NOT WANT TO SEE in the
	install logs - lvu alien adjusted too - track() function adjusted
	and simplified - removed unneeded lrm tmpfiles and loops,
	simplified

2004-03-09 16:13  sofar

	* sbin/lin: run_configure was called double. No more!

2004-03-09 11:22  sofar

	* var/lib/lunar/functions/download.lunar: The ultimate attempt to
	fix the double-download bug

2004-03-09 09:53  sofar

	* var/lib/lunar/functions/depends.lunar: Fixing the double-asking
	bug! theedge is now ready for 1.4.0 !!!

2004-03-09 08:56  sofar

	* var/lib/lunar/functions/modules.lunar: Emergency fix:
	module.index was broken

2004-03-08 22:57  sofar

	* var/lib/lunar/functions/: download.lunar, main.lunar: This
	supposedly should fix the double-download bug. It was acutally
	caused by old cruft lying around. The show_dl_progress was the
	culprit. To make sure, all references to lget have been removed,
	except for the download_manager call from lin. This works for
	normal modules, ones with ERASE (theedge) and cvs stuff.

2004-03-08 21:54  sofar

	* var/lib/lunar/functions/depends.lunar: Ewps, lin moonase

2004-03-08 21:33  sofar

	* var/lib/lunar/functions/: depends.lunar, modules.lunar: Speedups
	for people running with system moonbases, up to 5x faster
	regeneration of module.index and depends.cache

2004-03-07 23:32  sofar

	* etc/lunar/config, sbin/lin, sbin/lrm,
	var/lib/lunar/functions/check.lunar,
	var/lib/lunar/functions/depends.lunar,
	var/lib/lunar/functions/modules.lunar,
	var/lib/lunar/functions/moonbase.lunar: Fixes for: - dependency
	sorting algorithm, completely rewritten from scratch, implemented
	using a depends.cache file which speeds up all dependency work
	immensely. The time needed to create the cache might still be a
	little long tho (2:30 uncached on my box). sorting time for entire
	moonbase is about 2:30 now, mostly spending in the fgrep. sorting
	time on 400 modules is < 30 seconds.  - double questions removed -
	moonbase index creation is now more atomic than it was, it's
	generated in a tmpfile, then pivoted to the real location, same for
	depends.cache (crtl-c in the creation will not damage it) - lrm fix
	that caused files in /boot to be deleted. as far as I can see this
	was still an TODO left open by kongar&&those-before-him (ouch).
	tested and works.  - added $DEPENDS_CACHE var in etc/lunar/config

2004-03-05 20:46  tchan

	* var/lib/lunar/functions/depends.lunar: Added the suggested speed
	fix from Erie Sorenson.  INCLUDED=$INCLUDED$'\n'$MOD

2004-03-03 21:51  sofar

	* sbin/lin, var/lib/lunar/functions/build.lunar,
	var/lib/lunar/functions/depends.lunar,
	var/lib/lunar/functions/download.lunar,
	var/lib/lunar/functions/misc.lunar,
	var/lib/lunar/functions/tracking.lunar: Some slight fixing of the
	double-questions (not entirely correct still), adding support for a
	better CPAN system (more work needed). speediefied the tracking
	part with smart grep.

2004-03-02 21:53  tchan

	* usr/share/man/man8/lfirsttime.8: Updated lfirsttime with some
	needed changes.

2004-02-25 21:39  tchan

	* var/lib/lunar/functions/edit.lunar: A temporary fix for grepping
	tar, bz2, gz in patch names.  Only needed until sofar has time to
	rewrite/correct this function properly.

2004-02-25 17:06  tchan

	* var/lib/lunar/functions/edit.lunar: Reverting Ratler's changes to
	edit.lunar as they are totally wrong!  Don't mess with lunar core
	unless you check with sofar first!

2004-02-25 11:59  ratler

	* var/lib/lunar/functions/edit.lunar: Patch submited by Jerry
	Lundström that patch_it function to correctly grep for filetype

2004-02-23 22:11  sofar

	* sbin/lunar, var/lib/lunar/functions/queue.lunar: Fix for #446

2004-02-23 22:05  striker

	* var/lib/lunar/functions/updatelog.lunar: - Modified
	display_moonbase_changes() to show moved modules.  e.g. - Moved
	modules: module: old_cat -> new_cat
	
	[21:35:26]<sofar> nice [21:35:38]<sofar> exactly what I want ;^)
	
	- Sped up the whole procedure a bit by caching the diff (probably
	not entirely noticable)

2004-02-23 21:15  sofar

	* sbin/lin, var/lib/lunar/functions/build.lunar,
	var/lib/lunar/functions/config.lunar,
	var/lib/lunar/functions/depends.lunar,
	var/lib/lunar/functions/messages.lunar,
	var/lib/lunar/functions/modules.lunar,
	var/lib/lunar/functions/optimize.lunar: cosmetic cleanups for mod_v
	stuff, xterm_msg code, hardkrash' config etc, pipelining improved
	for lin, this is a long pending improvement that was needed,
	another addition to moonbase installs, one that helps on clean or
	taken-over boxes, clear msg for MAKES optimize question field

2004-02-23 21:15  sofar

	* bin/lvu: incorporates Linus Swälas' ideas for speeding up lvu
	searches etc, I went even a bit further by using MODULE_INDEX
	instead of iterating over moonbase

2004-02-23 18:26  striker

	* var/lib/lunar/functions/moonbase.lunar: submitting fix for
	new/removed modules code

2004-02-20 07:28  tchan

	* var/lib/lunar/protected: Updated this file so coreutils-5.2.0
	would install correctly.  Added /bin/mkdir /bin/sort /bin/tr and
	removed /usr/bin/sort.

2004-02-20 06:11  tchan

	* var/state/lunar/: blacklist.Alpha, blacklist.PowerPC,
	blacklist.SPARC, blacklist.x86: Updated all the blacklist.arch
	files.

2004-02-20 03:44  tchan

	* usr/share/doc/lunar/CREDITS: Added Striker to the list of devs.

2004-02-16 20:59  sofar

	* etc/lunar/: config, mirrors/LRESORT: Refurbishing again...
	hopefully Moe keeps the mirror up ;^)

2004-02-16 15:36  tchan

	* etc/lunar/mirrors/LRESORT: The master cache does not resolve to
	the same address as www.lunar-linux.org, so I changed the USA
	master cache to become www.lunar-linux.org/lunar/cache

2004-02-15 11:25  sofar

	* etc/lunar/config: Grrr mispaste

