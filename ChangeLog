2004-10-25 20:28  sofar

	* sbin/lunar: Adding menu toggle to PROBE_EXPIRED in the FEATURE
	  menu

2004-10-25 20:24  sofar

	* etc/lunar/config: default PROBE_EXPIRED=on

2004-10-25 20:21  sofar

	* sbin/lin: Incorporate PROBE_EXPIRED code into lin: lin --probe
	  will now check the module_is_expired status of a module an call a
	  recompile if it is outdated and if PROBE_EXPIRED==on

2004-10-25 19:44  sofar

	* var/lib/lunar/functions/modules.lunar: generalizing the
	  is_expired code into a per-module function and one that lists all
	  the expired ones in moonbase.

2004-10-25 19:33  sofar

	* sbin/lrm, var/lib/lunar/functions/depends.lunar: #510 --purge
	  really list all dependencies now

2004-10-25 19:18  sofar

	* var/lib/lunar/functions/main.lunar: Resurrect code fix: #510.
	  This code gently unpacks parts of the tarball given certain
	  conditions, pre-unpacks directories and symlinks too etc. and
	  honors $EXCLUDED algorithms. Tested mildly with postfix etc.

2004-10-25 19:15  sofar

	* var/lib/lunar/functions/sources.lunar: Fix nonexistant
	  $BUILD_DIRECTORY on clean boxes or when wiped by the user

2004-10-18 10:32  sofar

	* sbin/lin: Okay this works much better, I completely oversaw the
	  fact that lin_module already handles autoresurrect itself and
	  this code here is completely superfluous (just plain wrong)

2004-10-18 10:28  sofar

	* sbin/lin: Bugfix #501: make sure the module can override this
	  call to autoresurrect too

2004-10-18 07:32  sofar

	* var/lib/lunar/functions/sources.lunar: Demoted this message to
	  debug level

2004-10-18 07:28  sofar

	* var/lib/lunar/functions/modules.lunar: Bugfix: don't run this on
	  moonbase upgrades.

2004-10-17 23:44  v3rt1g0

	* bin/lvu: Better handeling of non-existant modules in lvu tree
	  (and its variations).  Now it will tell the user, in the standard
	  way, that the module they asked about doesn't exists.

2004-10-13 02:31  v3rt1g0

	* var/lib/lunar/functions/postbuild.lunar: I'm finally getting
	  around to committing the approved modification to gather_docs() I
	  proposed to Lunar-Dev ML about a month ago.

	  As a refresher (or introduction for some) this is what the change
	  is all about.  It's an extended version of the already existing
	  function gather_docs().  It allows a module writer/maintainer to
	  be able to easily install any extra documentation (above and
	  beyond what is already automatically copied over) they feel would
	  be nice to add to the module's default document directory.

	  A common usage would be a line like this found at the end of a
	  BUILD file:

	  gather_docs TODO INDEX Notes extras/*

	  Which would copy the files TODO, INDEX, Notes, and create a
	  subdirectory called extras and copy any files found in that
	  directory to the new directory under the module's default
	  document directory.

	  It obeys (checks for) $GARBAGE=on for you, so you don't need to
	  worry about that when writing the module. The files in the file
	  list must all reside in or below the $SOURCE_DIRECTORY and must
	  be referenced relative to said directory.

	  There is no harm in implementing this now within the moonbase at
	  will.  If the user does not have the extended version of
	  gather_docs() (and they have verbose on) s/he will see the
	  default documentation be coppied twice but nothing more.

2004-10-12 15:02  sofar

	* var/lib/lunar/functions/: build.lunar, config.lunar: the config
	  patch is needed to properly quote options... I just removed the
	  localsaconfig crap from theedge this way too.

2004-10-12 14:56  sofar

	* sbin/lin: Adding quick help info

2004-10-12 14:53  sofar

	* sbin/lin, var/lib/lunar/functions/build.lunar: Adding '--opts'
	  flag that allows you to add OPTS flags on the fly when compiling
	  a module: use as follows:

	  lin --opts '--enable-foo --enable-bar' $MODULE

	  to wipe the OPTS use 'lin -r $MODULE' as normal.

2004-10-12 13:19  sofar

	* var/lib/lunar/functions/sources.lunar: Never leave old crap lying
	  around if it's not yours (especially if you don't know what it
	  does) !!!

2004-10-12 12:58  sofar

	* sbin/lunar: Thanks to hardkrash and ranitha

2004-10-12 11:34  sofar

	* var/lib/lunar/aliases: Here are the first 2 aliases defined
	  (prototype!).

	  In order to test do this:

	  $ lsh
	  > sedit 's/xservers-profile/%X/g' $MOONBASE/*/DEPENDS

2004-10-12 11:29  sofar

	* bin/lvu, etc/lunar/config, var/lib/lunar/functions/aliases.lunar,
	  var/lib/lunar/functions/check.lunar,
	  var/lib/lunar/functions/depends.lunar: Merging aliases code with
	  theedge!!!

2004-10-12 10:09  sofar

	* sbin/lunar, var/lib/lunar/functions/config.lunar,
	  var/lib/lunar/functions/modules.lunar: Bugfix for the 'unexpected
	  error' message. Added 'lunar unset' and generic
	  unset_config/unset_module_config code.

2004-10-07 14:40  sofar

	* var/lib/lunar/: functions/optimize.lunar, menu/optimize.menu:
	  Merging linker optimizations

2004-10-06 15:27  sofar

	* lib/lsb/init-functions: AAARGH important bugfix that affects
	  /etc/init.d/network!

2004-10-06 12:43  sofar

	* sbin/lin, var/lib/lunar/functions/modules.lunar,
	  var/lib/lunar/functions/sources.lunar: Adding -w|--want $VERSION
	  support (NO WARRANTY) that allows you to override VERSION (don't
	  try this with more than one module ;^))

2004-09-27 21:41  sofar

	* var/lib/lunar/functions/main.lunar: #452: force double checking
	  on $LUNAR_MODULE with some msgs.

2004-09-26 20:47  sofar

	* var/lib/lunar/functions/main.lunar: #341: explicitly omit core
	  code and moonbase during rebuild

2004-09-26 15:36  sofar

	* var/lib/lunar/functions/sources.lunar: fix for #433: This resets
	  the owner and strips setGid and setUid bits on files while
	  extracting them. As a proper precaution this should always
	  happen. I am confident this will fix a lot of other problems in
	  the future.

2004-09-26 15:03  sofar

	* sbin/lrm: bugfix #460 (tested). I forgot to add the "optimize"
	  call since BUILD is no longer set by default. Also some leftover
	  and untested code after cleaning up probably.

2004-09-26 02:01  v3rt1g0

	* bin/lvu: The error message received when doing 'lvu size
	  AModuleThatIsNotInstalled' was not displaying the incorrect
	  module name as intended.  This is because it was using the wrong
	  variable to get the module name.  Now it should be using the
	  right variable.

2004-09-21 13:54  sofar

	* usr/share/man/man8/lrm.8: Adding purge to man page

2004-09-20 16:00  sofar

	* var/lib/lunar/protected: Smacking courier in here

