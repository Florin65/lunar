2004-12-14 06:11  tchan

	* etc/lunar/config: Removing the .se mirror as requested by bkw.

2004-12-13 15:43  sofar

	* var/lib/lunar/functions/locking.lunar: color fixes

2004-12-12 22:56  moe

	* var/lib/lunar/functions/download.lunar: This will buy us some
	  more time just incase the user is sitting behind a _really huge_
	  pipe.

2004-12-10 11:00  sofar

	* sbin/lin: bugfix: if lin_module ends up calling a recompile of
	  another modules it may not leave SINGLE_MODULE=1. This would
	  circumvent all dependency checking etc. and never call the dl
	  manager on those modules either.

2004-12-10 10:56  sofar

	* var/lib/lunar/functions/download.lunar: Bugfix for the theedge dl
	  problems: when we get to this code and a post-install triggered a
	  recompile the _PID is never stored so it's empty... we can
	  gracefully exit and ignore this usually. I added a fallback
	  function when the module is locked so at least st is going on. I
	  hope this calls all exceptions.

2004-12-10 10:46  sofar

	* bin/lvu, etc/lunar/config, sbin/lget,
	  var/lib/lunar/functions/build.lunar,
	  var/lib/lunar/functions/connect.lunar,
	  var/lib/lunar/functions/download.lunar,
	  var/lib/lunar/functions/messages.lunar,
	  var/lib/lunar/functions/moonbase.lunar,
	  var/lib/lunar/functions/queue.lunar,
	  var/lib/lunar/functions/temp.lunar: define TMPDIR and use it
	  globally. Its position is overwriteable by using lunar set TMPDIR

2004-12-08 08:35  sofar

	* var/lib/lunar/functions/build.lunar: Better check: this literally
	  looks how larege the installwatch file is. If it's zero then the
	  module has not installed ANY file and thus the warning is legit.
	  Most likely profile modules now only are a problem but we'll cope
	  with them a different way.

2004-12-07 14:11  moe

	* var/lib/lunar/functions/download.lunar: We all love eye candy.
	  This now is _almost_ as fast as the real output ;-)

2004-12-07 13:56  sofar

	* sbin/lin: foo

2004-12-07 12:12  sofar

	* sbin/lin, var/lib/lunar/functions/download.lunar: Implemented
	  Moe's download idea: separate lget processes and logs for each
	  downloaded file. The dl manager passes the PID on later and
	  before a module is compiled ONLY that relevant download info is
	  displayed.

2004-11-29 06:16  sofar

	* sbin/lunar: cleaned up a whee bit too much

2004-11-28 16:38  sofar

	* etc/lunar/config, sbin/lunar,
	  usr/share/doc/lunar/core-documentation/_etc_lunar_local_config.html,
	  var/lib/lunar/unset.sh: Deleting COLONY/CABAL support

2004-11-26 08:20  sofar

	* var/lib/lunar/functions/download.lunar: Make it possible to do
	  'lget moonbase --url file:///path/to/moonbase.tar.bz2'

2004-11-25 15:05  sofar

	* var/lib/lunar/functions/: build.lunar, main.lunar: Semantical
	  change: prepare_install is now MANDATORY. it is also the step
	  where invoke_installwatch is called. I added a WARNING that
	  checks after BUILD if it was set correctly, and warns if it
	  isn't. In the future this will become an ERROR.

2004-11-24 13:09  sofar

	* bin/lvu: This seems to fix 'lvu urls'

2004-11-23 09:33  sofar

	* bin/lvu: fast, faster, ranitha!

2004-11-22 14:40  sofar

	* var/lib/lunar/functions/depends.lunar: Make sure depends.cache is
	  as similar to depends/depends.backup as possible

2004-11-22 11:19  sofar

	* var/lib/lunar/functions/download.lunar: Adding a 'FRESORT_URL'.
	  This feature allows you to download first from a central
	  repository. Please do not tell people to use this on our own
	  mirrors (except strikers' mirror ;^)).

2004-11-20 23:00  sofar

	* var/lib/lunar/functions/download.lunar: Extremely horribly
	  simplified show_download_progress. Nice thing is that it actually
	  works too. SPend some time testing it and verified OK.

2004-11-19 14:42  sofar

	* var/lib/lunar/functions/kernel.lunar: Pretty format lilo config
	  lines: empty line between images and use human-readable output
	  abit.

2004-11-18 14:10  sofar

	* var/lib/lunar/functions/locking.lunar: The color needs to be
	  closed off at the end... otherwise all subsequent lines will be
	  colored too

2004-11-16 15:02  sofar

	* var/lib/lunar/functions/modules.lunar: A little bit faster, still
	  the awk call is slow I wish there was something faster than that

2004-11-11 10:03  sofar

	* etc/lunar/dialogrc: 2003/08/25 jasper suggestion. I thought it
	  was about time.

2004-11-11 02:24  v3rt1g0

	* var/state/lunar/: blacklist.Alpha, blacklist.PowerPC,
	  blacklist.SPARC: memtest86+ is not non-x86 friendly

2004-11-10 08:19  sofar

	* var/lib/lunar/functions/useradd.lunar: Do not track changes to
	  /etc/{passwd,group,shadow}

2004-11-10 08:18  sofar

	* var/lib/lunar/functions/modules.lunar: Adding an even more
	  thorough check on create_module_index. If the install log is
	  missing we *have* to use the slow method.

2004-11-04 09:31  sofar

	* var/lib/lunar/functions/messages.lunar: Adding the 'mquery'
	  function wrapper. This will be used later to simplify writing
	  CONFIGURE statements (of course it also will work from BUILD but
	  you shouldn't do that)

2004-11-01 07:56  sofar

	* var/lib/lunar/functions/modules.lunar: this must have slipped
	  in... weird.

2004-10-31 14:31  sofar

	* sbin/lsh: Allow lsh to be passed lunar functions or whichever
	  command as a parameter, which will then be evaluated within the
	  lsh environment. Example: `lsh list_expired_modules`

2004-10-29 14:28  sofar

	* var/lib/lunar/functions/modules.lunar: Extra bluntly running the
	  check&&create module index in case $MODULE_INDEX is missing (the
	  -w check would fail if it was missing)

2004-10-29 14:17  sofar

	* bin/lvu, var/lib/lunar/functions/modules.lunar,
	  var/lib/lunar/functions/moonbase.lunar,
	  var/lib/lunar/functions/updatelog.lunar: Removing MOONBASE_MD5
	  code as I suspect that it screws things up and it's unused
	  anyway.

2004-10-25 20:28  sofar

	* sbin/lunar: Adding menu toggle to PROBE_EXPIRED in the FEATURE
	  menu

2004-10-25 20:24  sofar

	* etc/lunar/config: default PROBE_EXPIRED=on

2004-10-25 20:21  sofar

	* sbin/lin: Incorporate PROBE_EXPIRED code into lin: lin --probe
	  will now check the module_is_expired status of a module an call a
	  recompile if it is outdated and if PROBE_EXPIRED==on

2004-10-25 19:44  sofar

	* var/lib/lunar/functions/modules.lunar: generalizing the
	  is_expired code into a per-module function and one that lists all
	  the expired ones in moonbase.

2004-10-25 19:33  sofar

	* sbin/lrm, var/lib/lunar/functions/depends.lunar: #510 --purge
	  really list all dependencies now

2004-10-25 19:18  sofar

	* var/lib/lunar/functions/main.lunar: Resurrect code fix: #510.
	  This code gently unpacks parts of the tarball given certain
	  conditions, pre-unpacks directories and symlinks too etc. and
	  honors $EXCLUDED algorithms. Tested mildly with postfix etc.

2004-10-25 19:15  sofar

	* var/lib/lunar/functions/sources.lunar: Fix nonexistant
	  $BUILD_DIRECTORY on clean boxes or when wiped by the user

2004-10-18 10:32  sofar

	* sbin/lin: Okay this works much better, I completely oversaw the
	  fact that lin_module already handles autoresurrect itself and
	  this code here is completely superfluous (just plain wrong)

2004-10-18 10:28  sofar

	* sbin/lin: Bugfix #501: make sure the module can override this
	  call to autoresurrect too

2004-10-18 07:32  sofar

	* var/lib/lunar/functions/sources.lunar: Demoted this message to
	  debug level

2004-10-18 07:28  sofar

	* var/lib/lunar/functions/modules.lunar: Bugfix: don't run this on
	  moonbase upgrades.

2004-10-17 23:44  v3rt1g0

	* bin/lvu: Better handeling of non-existant modules in lvu tree
	  (and its variations).  Now it will tell the user, in the standard
	  way, that the module they asked about doesn't exists.

