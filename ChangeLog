2002-12-23 00:49  sofar

	* sbin/lin: Added auto-patching: scan for subdir 'patch' and apply
	all regular files in that directory before BUILD/default_build.
	Note patch order is equal to 'ls'.

2002-12-22 17:40  tchan

	* sbin/lunar: Fixed the help message for KEEP_SOURCE to make sure
	its clear why you would turn this flag on.

2002-12-22 17:04  tchan

	* sbin/lunar: Better explanation of the KEEP_SOURCE option in Lunar
	help message.  KEEP_SOURCE toggles the default behavior in Lunar
	core tools of removing /usr/src/module code after a SUCCESSFUL
	compile.  Default behavior has always been to remove the module
	source after a succesful compile and KEEP the source after a failed
	compile.  Xoritor added the KEEP_SOURCE flag for developers using
	the gcc profiling tools as the tools need access to the source code
	even after a good compile.  This option is not to be used for
	removing source code after a failed compile.  Someone else can add
	another flag for always removing source code but that will probably
	break this option flag for the developers using the profiling code.

2002-12-22 07:02  tchan

	* sbin/lin: Reverted the lin code to the old behavior of NOT
	deleting source code when a compile fails.  It IS necessary to keep
	source code around for failed compiles as the compile log does NOT
	contain all the necessary information to fix a failed compile --
	especially when debugging failed GNU autotools type problems. 
	Having to run Lunar menu to turn on the keep source option and then
	recompile a failed module is a BIG waste of time.  Please leave
	this behavior alone!  Keep failed source code around.

2002-12-21 22:49  sofar

	* sbin/lin: Default compile fail will remove the sources from
	/usr/src. Since logging of compiles and activity is now in order,
	this is no longer needed, and prevent a big mess from happening in
	case your lunar rebuild goes booboo.

2002-12-16 10:48  sofar

	* var/lib/lunar/compilers/: c++, cc, g++, gcc: Better wrappers: sed
	off wrapper path to make ccache work again.

2002-12-11 21:39  xoritor

	* var/lib/lunar/subroutines: Fixed KEEP_SOURCE bug.

2002-12-09 21:24  xoritor

	* sbin/lget: Adding quiet opton to cvs update and checkout, now
	only important messages will be printed.
	
	Fixed CVS_LOGIN to behave better.

2002-12-09 10:20  sofar

	* sbin/lget: Adding download failure logging including URLS

2002-12-08 19:16  xoritor

	* var/lib/lunar/subroutines: Fixed installed_version when checking
	version of "installed linux".

2002-12-08 18:34  xoritor

	* var/lib/lunar/subroutines: Added 2 keywords for bad_flags,
	compiler and linker.
	
	  bad_flags compiler unsets all compiler flags set by CFLAGS,
	CXXFLAGS, and CPPFLAGS.
	
	  bad_flags linker unsets all linker flags set by LDFLAGS.

2002-12-08 18:04  xoritor

	* var/lib/lunar/: subroutines, functions/optimize.lunar: Added 2
	new subroutines (bad_flags and patch_it):
	
	  bad_flags is a subroutine to remove any known bad flags on a per
	module basis, this effects system CFLAGS, CXXFLAGS, and CPPFLAGS as
	well as optimizations chosen in lunar.	It is to be used as
	follows:
	
	    bad_flags <list of bad CFLAGS and LDFLAGS>
	
	      Example:
	      bad_flags -ffast-math -funroll-loops -s
	
	    Or to remove ALL optimizations use:
	      bad_flags ALL (Case matters!)
	
	  patch_it is a subroutine to create a generic patching interface
	for lunar modules it is to be used as follows:
	
	    patch_it <patch location/patch name> <patch level>
	
	      Example:
		patch_it $SOURCE_CACHE/4.2.0-4.2.1.diff.gz 1
	
	Added more support for KEEP_SOURCE options into default_prebuild.

2002-12-08 00:52  tchan

	* sbin/: lin, lunar: Hacked in $KEEP_SOURCE into lunar menu and
	fixed lin to use $KEEP_SOURCE.	This allows sysadmin to tell "lin"
	to keep the source code in /usr/src and as opposed to the default
	behavior of removing source code on successful builds.

2002-12-07 20:47  xoritor

	* var/lib/lunar/: functions/optimize.lunar, menu/optimize.menu:
	Updating optimizations:   Added C warnings options:    
	-Wno-deprecated
	
	  Added C++ warnings options:
	    -Wno-deprecated
	
	  Added Speed options:
	    -fexpensive-optimizations
	    -falign-double
	
	  Added framework for Stack optimization/manipulation, this can be
	different for each platform. Currently only the x86 is supported
	(-mpreferred-stack-boundary) but should allow others to be added
	easily.

2002-12-04 13:30  sofar

	* bin/lvu: Fix for the '/levels-list: no such file...' bug.
	(SCRIPT_DIRECTORY undeclared)

2002-12-04 08:42  tchan

	* var/lib/lunar/subroutines: Added to the activity_log function a
	timestamp as part of the datestamp.

2002-11-28 16:05  sofar

	* var/lib/lunar/subroutines: Fix #189

2002-11-28 15:41  sofar

	* sbin/lin: Fix for doubly reporting a failed compile, once as
	failed, once as success.

2002-11-26 14:56  kc8apf

	* lib/lsb/init-functions: Fix documented in Lunar

2002-11-21 05:20  hardkrash

	* var/lib/lunar/menu/optimize.menu: Added PPC and Power options to
	lunar menu and corrected menu info for optizations

2002-11-21 05:18  hardkrash

	* var/lib/lunar/functions/optimize.lunar: Added PPC and power
	options to lunar optimizations

2002-11-15 05:37  dem

	* var/state/lunar/blacklist.x86: gstreamer is now stable and
	rhythmbox box acctualy works now

2002-11-08 04:17  xoritor

	* sbin/lin: Fixed scripting error.

2002-10-14 19:32  xoritor

	* var/lib/lunar/functions/optimize.lunar: Adding gecc support to
	optimizations.

2002-10-14 19:29  xoritor

	* sbin/lget, sbin/lin, var/lib/lunar/subroutines: Adding support
	for CVS co/up to lget.	Adding support for building sources from
	CVS to lin.  Adding KEEP_SOURCE var to allow needed sources to be
	kept.  Adding support for checking CVS source dirs in subroutines.

2002-10-14 14:02  sofar

	* var/lib/lunar/functions/optimize.lunar: Adding input box for
	$MAKES

2002-10-08 04:32  tchan

	* var/state/lunar/blacklist.x86: Removed ddd from the blacklist. 
	It now correctly compiles with gcc-3.2.

2002-10-05 05:39  tchan

	* var/lib/lunar/subroutines: Fixed a long standing bug on why the
	/usr/share/info/dir file keeps getting trashed.  prepare_install
	was not saving /usr/share/info/dir and that file is being tracked
	by installwatch so it becomes part of the tar.bz2 file.  So inside
	prepare_install, if the module is already installed, it removes the
	existing module before completing the install.	This would remove
	the exisiting /usr/share/info/dir and then replace it with a very
	short version of /usr/share/info/dir.

2002-10-03 16:51  xoritor

	* sbin/lin: Added the call to check_blacklist() that was left out.

2002-10-03 15:55  xoritor

	* var/state/lunar/: blacklist.x86, gcc.x86: Removing gcc.x86 list
	(unused) Adding blacklist.x86 with contents:   ddd   rythmbox  
	gstreamer

2002-10-03 15:50  xoritor

	* sbin/lin: Fixed the issue with --fix installing "held" modules. 
	this will no longer happen.  Added support for a "blacklist" again
	it is still in /var/state/lunar, but the aname has changed to
	blacklist.$PLATFORM (defaults to x86).	This will NOT let a
	blacklisted module install at all and terminates lin when a
	blacklisted module is encountered.  I realize this could cause
	issues, and I am looking for a better solution... feel free to post
	ideas.

2002-10-01 17:34  sofar

	* var/lib/lunar/subroutines: lin moonbase now explicitly rebuilds
	the module.index

2002-09-29 20:10  sofar

	* var/lib/lunar/subroutines: Adding prune code for compile, install
	and md5sum logsfiles

2002-09-28 03:37  tchan

	* var/state/lunar/gcc.x86: Removed cdrdao from the list.  It builds
	just fine for me with gcc-3.2.

2002-09-27 18:42  xoritor

	* var/lib/lunar/functions/optimize.lunar: Fixed formatting errors.

2002-09-25 22:01  sofar

	* sbin/lin: REALLY fixing linewrap errors

2002-09-25 18:32  sofar

	* sbin/lin: re-adding wrappers to normal installation

2002-09-25 18:04  sofar

	* var/lib/lunar/subroutines: Adding message when a .rc file is
	installed!

2002-09-25 17:35  sofar

	* var/lib/lunar/subroutines: Fix for CVS moonbases

2002-09-24 20:49  xoritor

	* sbin/lin: Fixing linewrap/editor errors... thx niki :-)

2002-09-24 16:59  xoritor

	* sbin/lin: Updating lin to not set PATH, other than to add for the
	wrappers.  Added an echo to say wether a module is blacklisted or
	not, but does not do anything but echo.  This is a placeholder for
	future code that will allow a blacklist for gcc 2x or optimization
	unfriendly modules to be easily identified.

2002-09-24 16:52  xoritor

	* var/lib/lunar/functions/optimize.lunar: Adding PSAFE to
	optimize_make().    PSAFE=no can be added to a DETAILS file to set
	MAKES=1 so that multiple makes do not occur

2002-09-24 02:51  tchan

	* var/state/lunar/gcc.x86: unrar now compiles with gcc-3.2 or
	greater.

2002-09-23 23:59  sofar

	* sbin/lin, usr/share/man/man8/lin.8, var/lib/lunar/subroutines:
	Adding proper fix for lin --fix: lin --fixdepends will ONLY rebuild
	your depends database, without recompiling modules!

